<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Problem 3</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  </head>
  <body>
    
    <section class="container">
        <div class="w-75 mx-auto py-5">
            <div class="d-flex gap-2">
                <input class="form-control" id="nameId" type="text" placeholder="Name">
                <button id="deleteName" class="btn form-control btn-outline-danger">Delete From LS</button>
                <button id="sendName" class="btn form-control btn-outline-info">Send Name</button>
            </div>
            <div class="d-flex gap-2 py-3">
                <input class="form-control" id="emailId" type="email" placeholder="Email">
                <button id="deleteEmail" class="btn form-control btn-outline-danger">Delete From LS</button>
                <button id="sendEmail" class="btn form-control btn-outline-info">Send Name</button>
            </div>
            <div class="d-flex gap-2 align-content-center">
                <textarea class="form-control" name="" id="messageId" cols="117" placeholder="Message" rows="2"></textarea>
                <button id="deleteMessage" class="btn form-control btn-outline-danger">Delete From LS</button>
                <button id="sendMessage" class="btn form-control btn-outline-info">Send Message</button>
            </div>
            <div>
                <button id="resetBtn" class="form-control btn-danger mt-5">Reset</button>
            </div>
        </div>
    </section>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>

    <script>
        // Send Button
        document.getElementById('sendName').addEventListener('click', () => {
            const value = getInputValue('nameId');
            setValueToLocalStorage('name', value);
        });

        document.getElementById('sendEmail').addEventListener('click', () => {
            const value = getInputValue('emailId');
            setValueToLocalStorage('email', value);
        });

        document.getElementById('sendMessage').addEventListener('click', () => {
            const value = getInputValue('messageId');
            setValueToLocalStorage('message', value);
        });

        // Delete Button
        document.getElementById('deleteName').addEventListener('click', () => {
            deleteItem('name');
        });

        document.getElementById('deleteEmail').addEventListener('click', () => {
            deleteItem('email');
        });

        document.getElementById('deleteMessage').addEventListener('click', () => {
            deleteItem('message');
        });

        // RESET button
        document.getElementById('resetBtn').addEventListener('click', () => {
            localStorage.clear();
        });


        const getInputValue = (id) => {
            const inputId = document.getElementById(id);
            const value = inputId.value;
            inputId.value = '';
            return value;
        }

        const getValueFromLocalStorage = (key) => {
            let value = '';
            const prevValue = localStorage.getItem(key);
            if (prevValue) {
                value = JSON.parse(prevValue);
            }
            return value;
        }

        const setValueToLocalStorage = (key, value) => {
            // const value = getValueFromLocalStorage(key);

            localStorage.setItem(key,value);
        }

        const deleteItem = (key) => {
            localStorage.removeItem(key);
        }
    </script>
  </body>
</html>